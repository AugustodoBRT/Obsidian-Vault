---
mes_relatorio: 2025-10
tipo: relatorio-mensal
resumo_lucro: 0
resumo_investido: 0
resumo_apostas: 0
resumo_acertos: 0
resumo_odd_soma: 0
---
### ðŸ’° Lucro/Perda no MÃªs
> [!multi-column]
>
> > [!tip]+ Lucro/Perda no MÃªs
> > ```dataviewjs
> > // --- 1. CONFIGURAÃ‡ÃƒO ---
> > const mesAlvoString = dv.current().mes_relatorio;
> > 
> > // --- CORREÃ‡ÃƒO AQUI ---
> > // O script sÃ³ roda se 'mes_relatorio' estiver definido
> > if (!mesAlvoString) { 
> >     dv.el("h2", "ERRO: Defina 'mes_relatorio: YYYY-MM' no frontmatter (no topo desta nota)."); 
> > } else {
> >     // --- O SCRIPT COMEÃ‡A AQUI ---
> >     const mesAlvo = dv.date(mesAlvoString);
> > 
> >     // --- 2. FUNÃ‡ÃƒO HELPER DE CÃLCULO ---
> >     function calcularLucro(p) {
> >         const valor = Number((p.valor_apostado || '0').toString().replace(",", ".")) || 0;
> >         const odd = Number((p.odd || '0').toString().replace(",", ".")) || 0;
> >         const resultado = (p.resultado || "").toLowerCase();
> >         if (resultado == 'green') return (valor * odd) - valor;
> >         if (resultado == 'red') return -valor;
> >         return 0;
> >     }
> > 
> >     // --- 3. FILTRO ---
> >     const pages = dv.pages('#aposta')
> >         .where(p => {
> >             const dataValida = dv.date(p.data);
> >             const resultado = (p.resultado || "").toLowerCase();
> >             const eResolvida = (resultado === 'green' || resultado === 'red');
> >             return dataValida && eResolvida &&
> >                    dataValida.year === mesAlvo.year && 
> >                    dataValida.month === mesAlvo.month;
> >         });
> > 
> >     // --- 4. CÃLCULO ---
> >     const lucroTotal = pages.map(calcularLucro).array().reduce((a, b) => a + b, 0);
> >     const cor = lucroTotal > 0 ? '#43cc56' : (lucroTotal < 0 ? '#f04134' : '#a0a0a0');
> > 
> >     // --- 5. DISPLAY (Card) ---
> >     // Card com 'height: 100%' para alinhar com a coluna ao lado
> >     const card = dv.el('div', '', {
> >         attr: { style: 'padding: 20px; background-color: #1e1e1e; border-radius: 8px; text-align: center; border: 1px solid #333; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center;' }
> >     });
> >     
> >     // TÃ­tulo foi removido (como vocÃª pediu)
> > 
> >     dv.el('div', `R$ ${lucroTotal.toFixed(2)}`, {
> >         parent: card,
> >         attr: { style: `font-size: 3.5em; font-weight: 700; color: ${cor};` }
> >     });
> > }
> > ```
>
> > [!example]+ Banca Utilizada
> > ```dataviewjs
> > // --- 1. CONFIGURE AQUI O VALOR DA BANCA ---
> > const bancaUtilizada = 1000; // VocÃª pode mudar este valor
> > // --- FIM DA CONFIGURAÃ‡ÃƒO ---
> > 
> > 
> > // --- 2. DISPLAY (Card) ---
> > // Card com 'height: 100%' para alinhar com a coluna ao lado
> > const card = dv.el('div', '', {
> >     attr: { style: 'padding: 20px; background-color: #1e1e1e; border-radius: 8px; text-align: center; border: 1px solid #333; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center;' }
> > });
> > 
> > 
> >
> > dv.el('div', `R$ ${bancaUtilizada.toFixed(2)}`, {
> >     parent: card,
> >     attr: { style: 'font-size: 3.5em; font-weight: 700; color: #ffffff;' }
> > });
> > ```

> [!multi-column]
>
> > [!info]+ Desempenho DiÃ¡rio
> > ```dataviewjs
> > // --- 1. CONFIGURAÃ‡ÃƒO ---
> > const mesAlvoString = dv.current().mes_relatorio;
> >
> > // --- CORREÃ‡ÃƒO AQUI ---
> > if (!mesAlvoString) { 
> >     dv.el("b", "ERRO: Defina 'mes_relatorio'");
> > } else {
> >     // --- O SCRIPT COMEÃ‡A AQUI ---
> >     const mesAlvo = dv.date(mesAlvoString);
> >     
> >     // --- 2. FUNÃ‡ÃƒO HELPER DE CÃLCULO ---
> >     function cL(p) {
> >         const valor = Number((p.valor_apostado || '0').toString().replace(",", ".")) || 0;
> >         const odd = Number((p.odd || '0').toString().replace(",", ".")) || 0;
> >         const resultado = (p.resultado || "").toLowerCase();
> >         if (resultado == 'green') return (valor * odd) - valor;
> >         if (resultado == 'red') return -valor;
> >         return 0;
> >     }
> > 
> >     // --- 3. FILTRO ---
> >     const pages = dv.pages('#aposta')
> >        .where(p => {
> >            const dataValida = dv.date(p.data);
> >            const resultado = (p.resultado || "").toLowerCase();
> >            const eResolvida = (resultado === 'green' || resultado === 'red');
> >            return dataValida && eResolvida &&
> >                   dataValida.year === mesAlvo.year && 
> >                   dataValida.month === mesAlvo.month;
> >        });
> >
> >     // --- 4. CÃLCULO (Agrupamento por dia) ---
> >     const lucrosPorDia = pages
> >         .groupBy(p => dv.date(p.data))
> >         .map(g => ({
> >             data: g.key,
> >             lucro: g.rows.map(cL).array().reduce((a, b) => a + b, 0)
> >         }))
> >         .sort(g => g.data, 'asc');
> >
> >     // --- 5. DISPLAY (Tabela DiÃ¡ria) ---
> >     function createRow(dia) {
> >         const cor = dia.lucro > 0 ? '#43cc56' : (dia.lucro < 0 ? '#f04134' : '#a0a0a0');
> >         const dataFmt = dia.data.toFormat("dd-MMM");
> >         const lucroFmt = `R$ ${dia.lucro.toFixed(2)}`;
> >         
> >         return [
> >             `<span style="font-weight: 600;">${dataFmt}</span>`,
> >             `<span style="font-weight: 600; color: ${cor};">${lucroFmt}</span>`
> >         ];
> >     }
> >
> >     const tabela = lucrosPorDia.map(createRow);
> >     dv.table(["Data", "Lucro/Perda"], tabela);
> > }
> > ```
>
> > [!info]+ Resumo do MÃªs
> > ### Por Esporte
> > ```dataviewjs
> > // --- 1. CONFIGURAÃ‡ÃƒO ---
> > const mesAlvoString = dv.current().mes_relatorio;
> >
> > // --- CORREÃ‡ÃƒO AQUI ---
> > if (!mesAlvoString) { 
> >     dv.el("b", "ERRO: Defina 'mes_relatorio'");
> > } else {
> >     // --- O SCRIPT COMEÃ‡A AQUI ---
> >     const mesAlvo = dv.date(mesAlvoString);
> >
> >     // --- 2. FUNÃ‡ÃƒO HELPER DE CÃLCULO ---
> >     function cL(p) {
> >         const valor = Number((p.valor_apostado || '0').toString().replace(",", ".")) || 0;
> >         const odd = Number((p.odd || '0').toString().replace(",", ".")) || 0;
> >         const resultado = (p.resultado || "").toLowerCase();
> >         if (resultado == 'green') return (valor * odd) - valor;
> >         if (resultado == 'red') return -valor;
> >         return 0;
> >     }
> > 
> >     // --- 3. FILTRO ---
> >     const pages = dv.pages('#aposta')
> >        .where(p => {
> >            const dataValida = dv.date(p.data);
> >            const resultado = (p.resultado || "").toLowerCase();
> >            const eResolvida = (resultado === 'green' || resultado === 'red');
> >            return dataValida && eResolvida &&
> >                   dataValida.year === mesAlvo.year && 
> >                   dataValida.month === mesAlvo.month;
> >        });
> >
> >     // --- 4. CÃLCULO (Agrupamento por Esporte) ---
> >     const porEsporte = pages
> >         .groupBy(p => p.esporte || "N/A")
> >         .map(g => {
> >             const investido = g.rows.map(p => Number(p.valor_apostado) || 0).array().reduce((a, b) => a + b, 0);
> >             const lucro = g.rows.map(cL).array().reduce((a, b) => a + b, 0);
> >             const roi = (investido === 0) ? 0 : (lucro / investido) * 100;
> >             return {
> >                 esporte: g.key,
> >                 apostas: g.rows.length,
> >                 investido: `R$ ${investido.toFixed(2)}`,
> >                 lucro: lucro,
> >                 roi: roi
> >             };
> >         });
> >
> >     // --- 5. DISPLAY (Tabela Esporte) ---
> >     const tabela = porEsporte.map(e => {
> >         const corLucro = e.lucro > 0 ? '#43cc56' : (e.lucro < 0 ? '#f04134' : '#a0a0a0');
> >         const corROI = e.roi > 0 ? '#43cc56' : (e.roi < 0 ? '#f04134' : '#a0a0a0');
> >         return [
> >             `<span style="font-weight: 600;">${e.esporte}</span>`,
> >             e.apostas,
> >             e.investido,
> >             `<span style="font-weight: 600; color: ${corLucro};">R$ ${e.lucro.toFixed(2)}</span>`,
> >             `<span style="font-weight: 600; color: ${corROI};">${e.roi.toFixed(2)}%</span>`
> >         ];
> >     });
> >     dv.table(["Esporte", "Apostas", "Investido", "Lucro/Perda", "ROI"], tabela);
> > }
> > ```
> > ### Por Tipster
> > ```dataviewjs
> > // --- 1. CONFIGURAÃ‡ÃƒO ---
> > const mesAlvoString = dv.current().mes_relatorio;
> >
> > // --- CORREÃ‡ÃƒO AQUI ---
> > if (!mesAlvoString) { 
> >     dv.el("b", "ERRO: Defina 'mes_relatorio'");
> > } else {
> >     // --- O SCRIPT COMEÃ‡A AQUI ---
> >     const mesAlvo = dv.date(mesAlvoString);
> >     
> >     // --- 2. FUNÃ‡ÃƒO HELPER DE CÃLCULO ---
> >     function cL(p) {
> >         const valor = Number((p.valor_apostado || '0').toString().replace(",", ".")) || 0;
> >         const odd = Number((p.odd || '0').toString().replace(",", ".")) || 0;
> >         const resultado = (p.resultado || "").toLowerCase();
> >         if (resultado == 'green') return (valor * odd) - valor;
> >         if (resultado == 'red') return -valor;
> >         return 0;
> >     }
> > 
> >     // --- 3. FILTRO ---
> >     const pages = dv.pages('#aposta')
> >        .where(p => {
> >            const dataValida = dv.date(p.data);
> >            const resultado = (p.resultado || "").toLowerCase();
> >            const eResolvida = (resultado === 'green' || resultado === 'red');
> >            return dataValida && eResolvida &&
> >                   dataValida.year === mesAlvo.year && 
> >                   dataValida.month === mesAlvo.month;
> >        });
> >
> >     // --- 4. CÃLCULO (Agrupamento por Tipster) ---
> >     const porTipster = pages
> >         .groupBy(p => p.tipster || "Eu")
> >         .map(g => {
> >             const investido = g.rows.map(p => Number(p.valor_apostado) || 0).array().reduce((a, b) => a + b, 0);
> >             const lucro = g.rows.map(cL).array().reduce((a, b) => a + b, 0);
> >             const roi = (investido === 0) ? 0 : (lucro / investido) * 100;
> >             return {
> >                 tipster: g.key,
> >                 apostas: g.rows.length,
> >                 investido: `R$ ${investido.toFixed(2)}`,
> >                 lucro: lucro,
> >                 roi: roi
> >             };
> >         });
> >
> >     // --- 5. DISPLAY (Tabela Tipster) ---
> >     const tabela = porTipster.map(t => {
> >         const corLucro = t.lucro > 0 ? '#43cc56' : (t.lucro < 0 ? '#f04134' : '#a0a0a0');
> >         const corROI = t.roi > 0 ? '#43cc56' : (t.roi < 0 ? '#f04134' : '#a0a0a0');
> >         return [
> >             `<span style="font-weight: 600;">${t.tipster}</span>`,
> >             t.apostas,
> >             t.investido,
> >             `<span style="font-weight: 600; color: ${corLucro};">R$ ${t.lucro.toFixed(2)}</span>`,
> >             `<span style="font-weight: 600; color: ${corROI};">${t.roi.toFixed(2)}%</span>`
> >         ];
> >     });
> >     dv.table(["Tipster", "Apostas", "Investido", "Lucro/Perda", "ROI"], tabela);
> > }
> > ```

---

